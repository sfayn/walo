<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://richfaces.org/sandbox/bootstrap">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h:outputText value="#{bundle.ListUserTitle}"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <b:modal></b:modal>
            <script src="#{request.contextPath}/resources/js/jquery.dataTables.js" ></script>
            <link rel="stylesheet" href="#{request.contextPath}/resources/css/DT_bootstrap.css" />
            <script src="#{request.contextPath}/resources/js/DT_bootstrap.js" ></script>



            <h:form prependId="false">
                <h:panelGroup id="messagePanel" layout="block">
                    <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
                </h:panelGroup>

                <fieldset style="border:2px solid rgb(58,135,173); margin-left: 20px; margin-top: 20px; margin-bottom: 20px; -moz-border-radius:8px; -webkit-border-radius:8px; border-radius:8px;">
                    <legend style=" margin-bottom:0px; font-size: 30px;margin-right: 10px;
                            margin-left:16px; border-bottom: 0px; width: auto;">الإحصائيات الشهرية:</legend>
                    <b:gridRow >
                        <div class="span5">
                            <div id="graph" style="height: 500px;"> </div>
                            <h:outputScript library="js" name="flotr2.min.js" />
                            <script type="text/javascript">
                                // <![CDATA[ 
                                (function basic_bars(container, horizontal) {

                                    var
                                    horizontal = (horizontal ? true : false),
                                    // Show horizontal bars
                                    d1 = [],
                                    // First data series
                                    d2 = [],
                                    // Second data series
                                    point, // Data point variable declaration
                                    i;

                                    for (i = 1; i < 5; i++) {

                                        if (horizontal) {
                                            point = [Math.ceil(Math.random() * 10), i];
                                        } else {
                                            point = [i, Math.ceil(Math.random() * 10)];
                                        }

                                        d1.push(point);

                                        if (horizontal) {
                                            point = [Math.ceil(Math.random() * 10), i + 0.5];
                                        } else {
                                            point = [i + 0.5, Math.ceil(Math.random() * 10)];
                                        }

                                        d2.push(point);
                                    };

                                    // Draw the graph
                                    Flotr.draw(
                                    container, [d1], {
                                        bars: {
                                            show: true,
                                            horizontal: horizontal,
                                            shadowSize: 0,
                                            barWidth: 0.5
                                        },
                                        mouse: {
                                            trackFormatter: function(obj){ return obj.y; },
                                            track: true,
                                            relative: true
                                        },
                                        xaxis:{
                                            title : '',
                                            tickSize : 1,
                                            min: 1,
                                            ticks: [[1, 'Naissances'],[2, 'Deces'],[3, 'jug Naiss'],[4, 'jug dec']]
                                        },
                                        yaxis: {
                                            min: 0,
                                            autoscaleMargin: 1
                                        }
                                    });
                                })(document.getElementById("graph"));
                                // ]]> 
                            </script>
                        </div>
                        <b:gridColumn span="4">
                            <h:panelGrid columns="2" dir="rtl">
                                <h:outputText value="السنة:" />
                                <h:selectOneMenu styleClass="input-medium" id="annee" value="#{bIController.anneeGeneral}" >
                                    <f:selectItem itemLabel="2010" itemValue="2010"/>  
                                    <f:selectItem itemLabel="2011" itemValue="2011"/>  
                                    <f:selectItem itemLabel="2012" itemValue="2012"/>  
                                    <f:selectItem itemLabel="2013" itemValue="2013"/>  
                                </h:selectOneMenu>
                                <h:outputText value="الشهر:" />
                                <h:selectOneMenu styleClass="input-medium" id="mois" value="#{bIController.mois}" >
                                    <f:selectItem itemLabel="01" itemValue="01"/>
                                    <f:selectItem itemLabel="02" itemValue="02"/>
                                    <f:selectItem itemLabel="03" itemValue="03"/>
                                    <f:selectItem itemLabel="04" itemValue="04"/>
                                    <f:selectItem itemLabel="05" itemValue="05"/>
                                    <f:selectItem itemLabel="06" itemValue="06"/>
                                    <f:selectItem itemLabel="07" itemValue="07"/>
                                    <f:selectItem itemLabel="08" itemValue="08"/>
                                    <f:selectItem itemLabel="09" itemValue="09"/>
                                    <f:selectItem itemLabel="10" itemValue="10"/>
                                    <f:selectItem itemLabel="11" itemValue="11"/>
                                    <f:selectItem itemLabel="12" itemValue="12"/>
                                </h:selectOneMenu>
                                <h:commandLink action="#" value="جذاذة الفرز 1" styleClass="btn btn-primary span2" />
                                <h:commandLink action="#" value="جذاذة الفرز 2" styleClass="btn btn-primary span2" />
                                <h:commandLink action="#" value="جذاذة الفرز 3" styleClass="btn btn-primary span2" />
                                <h:commandLink action="#" value="جذاذة الفرز 4 و 5" styleClass="btn btn-primary span2" />
                            </h:panelGrid>
                        </b:gridColumn>
                    </b:gridRow>
                </fieldset>
                <style>
                    a:visited{
                        color: #ffffff ;
                    }
                    li>a{
                        color: #000000;
                    }
                    a:hover{
                        color: #ffffff !important;
                    }
                    .inlineRadioButtons { } 
                    .inlineRadioButtons label {     
                        display: inline; }
                    </style>
                    <br />
                    <b:buttonDropdown title="Actions" severity="primary" vertical="top" horizontal="right">
                        <h:commandLink action="#{userController.prepareCreate}" value="#{bundle.ListUserCreateLink}" style="font-size: 13pt; color: #000000;"/>
                    <h:commandLink action="#{userController.prepareList}" value="#{bundle.CreateUserShowAllLink}" style="font-size: 13pt; color: #000000;"/>
                </b:buttonDropdown>

            </h:form>
        </ui:define>
    </ui:composition>

</html>
